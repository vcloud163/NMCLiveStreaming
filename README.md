rtmp直播SDK 动态库



# 网易云视频 iOS 直播推流 SDK 更新记录


**V3.0.0** - 2018-4-25
1. 推流demo 新增版本信息显示
2. 动态库方式提供SDK
3. 音频优先策略
4. 自定义mp4录制的一些用户可以配置的参数，比如分辨率、码率等
5. 直播推流SDK私有化开关
6. GSLB模块重构
7. SDK通过pods进行发布管理



**V2.9.0** - 2018-3-30
1. 增加SEI传递自定义数据通道
2. 增加端到端延时统计
3. 解决iphone 5／5s设备在硬件编码下出现多slice，导致iOS播放器硬件解码花屏问题
4. 音频模块增加对第三方蓝牙耳机的兼容性；



**V2.8.0** - 2018-1-30
1. 提供"透传时间戳”设置开关“(发送nojitter)和获取透传时间戳接口，支持音频直播流获取时间戳的需求，同时兼容临时方案



**V2.7.0** - 2018-1-19
1. 冲顶大会正式解决方案上线



**V2.6.0** - 2018-1-12
1. Demo支持手动导入iTunes的音乐做伴音文件
2. 推流SDK支持最优源站选择策略
3. 推流SDK支持选择灾备CDN进行推流时，通过心跳上报
4. 音频模块重构，涉及音频采集和音频混音
5. 统计数据新增字段上报:GSLB请求时间、最优源站选择及连接时间、推流类型、qos网络评估参数
6. 增加源站透传时间戳字段
7. 增加获取最后发送的那一帧的时间戳接口，调整时间戳基准



**V2.5.1** - 2017-12-12
1. iOS直播SDK修复IPV6网络下无法推流的问题



**V2.5.0** - 2017-12-8
1. iOS直播SDK接口优化:统计信息回调对象
2. 直播统计上报:增加视频发送队列缓冲积压的统计
3. 音频设备状态，推流结束以后恢复到初始的状态
4. 推流SDK 参数合法性校验
5. 日志存放目录移动至Documents，同时根据sdkNme区分存放目录（便于文件共享查看）
6. 解决在开始直播之后，视频等音频  或者  音频等视频  写rtmp头部时，直播无法暂停的问题
7. 修复已知bug




**V2.4.0** - 2017-11-23
1. 增加Qos是否开启分辨率切换的参数下发
2. iOS硬件编码加B帧，调整发送线程
3. 音频未知中断处理，抛出提醒，增加音频采集监控处理
4. 音频自定义采集
5. 自定义统计数据上报
6. 统计上报数据和日志文件做gzip压缩
7. Qos策略调整优化，弱网处理优化
8. 提供推流sdk查询是否正在直播的接口
9. 获取版本号，改用类方法




**V2.3.1** - 2017-11-1
1. 临时去除Qos算法中的切换分辨率的逻辑
2. 调优发送队列缓冲区大小



**V2.3.0** - 2017-10-18
1. 增加监控数据流传递，分别作用于音视频的采集，编码，发送线程
2. 统计增加cpu和内存统计
3. QOS可以通过回调提供上层给出网络状况等级
4. iOS解决发送静音帧，回采伴音无法发送到拉流端的问题
5. iOS推流SDK增加曝光调节接口



**V2.2.0** - 2017-9-15
1. iOS推流硬件编码重构优化，并调优参数，出错处理
2. iOS推流硬件编码接入Qos和跳帧模块
3. iOS推流编码模块重构，采集、编码、发送线程分离
4. 优化Qos自动切换分辨率修改采集分辨率引起的采集端一闪问题
5. 测速模块优化，增加持续ping功能
6. MINI SDK与线上正常版本整合，打包区分
7. rtmp不再依赖openssl，MINI SDK不再依赖libyuv
8. 优化代码，修复一些已知bug



**V2.1.0** - 2017-8-9
1. iOS推流支持直播中改变预览画面大小
2. iOS推流支持自定义视频采集
3. iOS推流支持模拟器库
4. 统计上报需要增加分辨率切换，音视频编码发送时间的字段 
5. iOS推流接口重构，去掉c风格的结构体
6. Qos算法优化
7. iOS推流支持音频AAC硬编码
8. openH264更新升级
9. 优化代码，修复一些已知bug


**V2.0.2** - 2017-7-4
1. 音频模块支持蓝牙耳机
2. 音频模块优化，解决在外接直播设备时，某些纯音乐在拉流端出现的声音不纯的问题
3. 修改摄像头切换接口，增加摄像头切换回调
4. 优化美颜效果，新增美白接口，去除对比度接口，更新磨皮效果，同时适用于所有滤镜
5. 支持IOS11适配
6. 截图功能修复bug
7. Demo层接入FaceU功能（需要证书key，同时打开demo上的宏）
8. 修改GLSB下发多个源站地址连通性的功能，解决CDN空包的问题
9. 优化代码，修复一些已知bug


**V2.0.1** - 2017-6-8
1. 新增涂鸦接口，增加本地预览关闭静态水印和动态水印的接口
2. 增加直播过程中，分辨率切换功能
3. 增加静默测速功能，整合测速模块
4. 底层日志细化输出，统一加入日志管理模块
5. 网络异常出错调整规则处理
6. 修复会在720p模式下后置会有画面延迟效果
7. 修复一些已知bug

**V2.0.0** - 2017-5-15
1. 重构采集，前处理，编码模块
2. 增加mp4录制，替换原先的flv录制
3. 支持静态／动态水印本地化预览，动态水印接口调整，新增清除水印接口
4. 新增音视频数据采集外部回调，外部可以自定义进行前处理，并返回SDK推流,接口变动
5. 增加前置摄像头编码镜像和前置摄像头预览镜像的接口
6. 修复一些底层的崩溃问题


**V1.2.6** - 2017-3-29
1. 修复初始化没有设置推流地址，导致日志无法上传
2. 增加前置摄像头预览画面的镜像开关
3. 修复开始直播的时候经常弹出音频提示框的问题
4. demo支持横屏模式推流
5. 修复频繁stop和start的资源释放问题
6. 修复统计上报ip不准的问题
7. 增加对flv的录制的保护
8. 修复已知bug


**V1.2.5** - 2017-1-20
1. 把SDK的参数回调改成异步处理
2. 整体性能优化，解决水印处理耗费CPU的问题
3. 配合GSLB的小运营商改进方案，实现高可用
4. 完善日志输出和上传方案


**V1.2.4** - 2016-12-21
1. 增加滤镜强度调节，拆分美白，磨皮滤镜
2. 增加平滑发送机制，调整发送窗口
3. 修改本地录制文件为异步，保证数据完整性
4. 增加规范sdk日志，上传服务器
5. 修改发送心跳调用时刻，保证心跳能及时发送
6. 增加测速模块，解决小运营商问题


**V1.2.3** - 2016-11-25
1. 修改时间戳问题；
2. 多CDN切换推流；
3. 解决统计数据问题；
4. 若干推流异常：资源管理，推流链路管理


**V1.2.2** - 2016-10-31
1. 增加本地录制功能和接口；
2. 去除ffmpeg库；
3. 提供相机和麦克风资源放检测办法，使其不影响直播功能；
4. 提供手势拉升和还原直播焦距功能；


**V1.2.1** - 2016-10-18 
1. 支持GSLB中心调度
2. 修复编码分辨率在非16：9时播放端拉流绿屏的问题


**v1.2.0** - 2016-09-27
1. 增加裸流回调接口
2. 音频暂停采用发送静音包
3. 解决iphone 6s伴音杂音问题
4. 精简部分前处理操作，减少了部分cpu消耗
5. 前置摄像头画面镜像
6. DEMO UI优化


**v1.1.0** - 2016-08-15
1. 增加rtmp连接失败率统计
2. 更新底层直播引擎


**v1.0.9** - 2016-07-26
1. 改善视频传输质量问题
2. 增加动态调整码率开关


**v1.0.8** - 2016-06-30
1. 改善视频模糊问题


**v1.0.7** - 2016-06-13
1. 提升滤镜效果，并将使用率不高的滤镜移除


**v1.0.6** - 2016-05-20
1. 增加log信息输出到文件
2. 打开伴奏功能


**v1.0.5** - 2016-05-04
1. 增加滤镜功能
2. 打开截图功能


**v1.0.4** - 2016-04-19
1. 打开 audiosession管理
2. 优化qos上升过慢的问题
3. 修改stoplivestream接口，变成一个异步回调的过程，防止主线程卡死的问题


**v1.0.3** - 2016-03-31
1. 摄像头flash功能支持
2. 摄像头zoom功能支持 
3. 统计信息回调
4. 自适应码率信息调整优化
5. 视频16:9模式支持


**v1.0.2** - 2016-01-14
1. 摄像头不能正常切换


**v1.0.1** - 2015-11-21
1. 创建直播sdk初始版本，提供基本功能
